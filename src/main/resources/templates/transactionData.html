<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">
<head>
    <title>layUi入门</title>
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/font.css">
    <link rel="stylesheet" href="../css/xadmin.css">
    <link rel="stylesheet" href="../css/theme9.css">

    <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
    <!--[if lt IE 9]-->
    <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
    <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>

    <!--    <link rel="stylesheet" href="../lib/layui/css/layui.css">-->

    <!--    static\lib\layuimini\lib\layui-v2.5.5\css\layui.css-->
    <!--    static\lib\layuimini\css\public.css-->
    <!--    static\lib\layuimini\lib\layui-v2.5.5\layui.js-->
    <!--    static\lib\layuimini\js\lay-config.js-->
    <link rel="stylesheet" href="../lib/layuimini/lib/layui-v2.5.5/css/layui.css" media="all">
    <link rel="stylesheet" href="../lib/layuimini/css/public.css" media="all">
    <script src="../lib/layuimini/lib/layui-v2.5.5/layui.js" charset="utf-8"></script>
    <script src="../lib/layuimini/js/lay-config.js?v=1.0.4" charset="utf-8"></script>

    <!--工具条-->
    <script type="text/html" id="userToolBar">
        <br/>
        <form class="layui-form layui-col-space5">
            <div class="layui-inline layui-show-xs-block">
                <label class="layui-form-label layui-bg-green" style="width: 110px;text-align: center">交易日期</label>

                <div class="layui-inline layui-show-xs-block">
                    <input class="layui-input"  autocomplete="off" placeholder="请输入交易日期" name="end" id="end">
                </div>
            </div>
            <div class="layui-inline layui-show-xs-block">
                <label class="layui-form-label layui-bg-green" style="width: 110px;text-align: center">证券代码</label>

                <div class="layui-inline layui-show-xs-block">
                    <input class="layui-input" placeholder="请输入证券代码" name="equityId">
                </div>
            </div>
            <div class="layui-inline layui-show-xs-block">
                <button class="layui-btn"  lay-submit="" lay-filter="sreach"><i class="layui-icon">&#xe615;</i>搜索</button>
            </div>
        </form>
        <br>
        <div class="layui-btn-container"
             style="position: absolute; right: 120px; top: 10px;">
            <button class="layui-btn layui-btn-sm layui-btn-normal"
                    lay-event="add">
                <i class="layui-icon">&#xe654;</i>添加交易数据
            </button>
            <button class="layui-btn layui-btn-sm layui-btn"
                    lay-event="shangHai">
                <i class="layui-icon">&#xe67c;</i>上海过户库数据导入
            </button>
            <button class="layui-btn layui-btn-sm layui-btn"
                    lay-event="shenZen">
                <i class="layui-icon">&#xe67c;</i>深圳回报库数据导入
            </button>
        </div>
    </script>




</head>
<body style="overflow: auto; background-color: white;"
      class="layui-view-body layui-content">
<div>
    <!--表格-->
    <table id="userTable" lay-filter="userTable"></table>
    <!--工具条-->
    <div style="display: none;" id="barDemo">
        <a class="layui-btn layui-btn-xs" lay-event="edit"><i
                class="layui-icon">&#xe642;</i>编辑</a>
        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del"><i
                class="layui-icon">&#xe640;</i>删除</a>

    </div>
</div>


<!--增加的div内容-->
<div id="addContent" style="display: none; height: 100%; width:100%; text-align: center">
    <form id="addform" lay-filter="addform" class="layui-form layui-col-space5" style="margin: 50px auto; display: inline-block;">
        <input type="hidden" name="fundId" th:value="${session.fundId}">

        <div class="layui-inline layui-show-xs-block" style="text-align: center;">
            <label class="layui-form-label layui-bg-green" style="text-align: center">证券编号</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="证券ID" name="equityId">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">账户编号</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="账户ID" name="end" >
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">券商名称</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="券商ID" name="dateTime">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">席位名称</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="席位ID" name="securityName">
            </div>
        </div>
        <br>
        <br>

        <div class="grid-demo grid-demo-bg1">
            <div class="layui-form-item" >
                <label class="layui-form-label layui-bg-green" style="text-align: center">交易方式</label>
                <div class="layui-input-inline">
                    <select name="modes" lay-verify="required" id="modes2">
                        <option></option>
                        <option value="1">买入</option>
                        <option value="2">卖出</option>
                        <option value="3">分红</option>
                        <option value="4">送股</option>
                    </select>
                </div>
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">成交日期</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="请输入成交日期" name="receivedDate" id="start2">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">交易价格</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入交易价格" name="securityName">
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">结算日期</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="请输入结算日期" name="receivedDate" id="receivedDate2">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">交易数量</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入交易数量" name="securityName">
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block" style="float: left">
            <label class="layui-form-label layui-bg-green" style="text-align: center">交易总金额</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="请输入交易总金额" name="securityName">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">实收金额</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入实收金额" name="securityName">
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">佣金费用</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入佣金费用" name="securityName">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">过户费</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入过户费" name="securityName">
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">印花税</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入印花税" name="securityName">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">征管费</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入征管费" name="securityName">
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">经手费</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入经手费" name="securityName">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">证券利息</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入证券利息" name="securityName">
            </div>
        </div>
        <br>
        <br>
        <div style="position: absolute;left: 45%;">
            <button class="layui-btn" lay-submit="" lay-filter="addSubmit">
                <i class="layui-icon">&#x1005;</i>添加
            </button>
            <button class="layui-btn layui-bg-red cancel" type="button">
                <i class="layui-icon">&#x1006;</i>取消
            </button>
        </div>
    </form>
</div>

<!--修改的div内容-->
<div id="editContent"
     style="display: none; height: 100%; height: 100%; text-align: center;">
    <form id="editform" lay-filter="editform"
          class="layui-form layui-form-pane"
          style="margin: 30px auto; display: inline-block;">
        <div class="layui-inline layui-show-xs-block" style="text-align: center;">
            <label class="layui-form-label layui-bg-green" style="text-align: center">证券编号</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="证券ID" name="equityId">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">账户编号</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="账户ID" name="end" >
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">券商名称</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="券商ID" name="dateTime">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">席位名称</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="席位ID" name="securityName">
            </div>
        </div>
        <br>
        <br>

        <div class="grid-demo grid-demo-bg1">
            <div class="layui-form-item" >
                <label class="layui-form-label layui-bg-green" style="text-align: center">交易方式</label>
                <div class="layui-input-inline">
                    <select name="modes" lay-verify="required" id="modes">
                    </select>
                </div>
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">成交日期</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="请输入成交日期" name="receivedDate" id="start">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">交易价格</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入交易价格" name="securityName">
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">结算日期</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="请输入结算日期" name="receivedDate" id="receivedDate">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">交易数量</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入交易数量" name="securityName">
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block" style="float: left">
            <label class="layui-form-label layui-bg-green" style="text-align: center">交易总金额</label>
            <div class="layui-inline layui-show-xs-block">
                <input class="layui-input" placeholder="请输入交易总金额" name="securityName">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">实收金额</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入实收金额" name="securityName">
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">佣金费用</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入佣金费用" name="securityName">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">过户费</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入过户费" name="securityName">
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">印花税</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入印花税" name="securityName">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">征管费</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入征管费" name="securityName">
            </div>
        </div>
        <br>
        <br>
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">经手费</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入经手费" name="securityName">
            </div>
        </div>
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <div class="layui-inline layui-show-xs-block">
            <label class="layui-form-label layui-bg-green" style="text-align: center">证券利息</label>
            <div class="layui-inline layui-show-xs-block" style="width: 182px">
                <input class="layui-input" placeholder="请输入证券利息" name="securityName">
            </div>
        </div>


        <div style="position: absolute; bottom: 0px; left: 45%;">
            <button class="layui-btn" lay-submit="" lay-filter="editsubmit">
                <i class="layui-icon">&#x1005;</i>修改
            </button>
            <button class="layui-btn layui-bg-red cancel" type="button">
                <i class="layui-icon">&#x1006;</i>取消
            </button>
        </div>
    </form>
</div>
<script src="../js/transactionData.js"></script>
<script type="text/javascript">
    layui.use(['table', 'form', 'tableSelect'], function () {
        var $ = layui.jquery,
            table = layui.table,
            form = layui.form,
            tableSelect = layui.tableSelect;

        tableSelect.render({
            elem: '#trusteeBlank',
            checkedKey: 'trusteeId',
            table: {
                url: '../selectTrustee',
                cols: [
                    [
                        {type: 'radio'},
                        {field: 'trusteeId', align: 'center', title: '托管人ID'},
                        {field: 'trusteeCompany', align: 'center', title: '托管公司'},
                        {field: 'trusteeDesc', align: 'center', title: '托管费率'}
                    ]]
            },
            done: function (elem, data) {
                var NEWJSON = [];
                layui.each(data.data, function (index, item) {
                    NEWJSON.push(item.trusteeCompany)
                });
                elem.val(NEWJSON.join(","))
            }
        });
        // managerId
        // 管理人id
        // managerCompany
        // 管理人名称
        // managerFee
        // 管理费率
        tableSelect.render({
            elem: '#managerId',
            checkedKey: 'managerId',
            table: {
                url: '../selectManager',
                cols: [
                    [
                        {type: 'radio'},
                        {field: 'managerId', align: 'center', title: '管理人id'},
                        {field: 'managerCompany', align: 'center', title: '管理人名称'},
                        {field: 'managerFee', align: 'center', title: '管理费率'}
                    ]]
            },
            done: function (elem, data) {
                var NEWJSON = [];
                layui.each(data.data, function (index, item) {
                    NEWJSON.push(item.managerCompany)
                });
                elem.val(NEWJSON.join(","))
            }
        });

    });
</script>
</body>
</html>
